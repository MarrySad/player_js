!function(e){var t={};function n(s){if(t[s])return t[s].exports;var i=t[s]={i:s,l:!1,exports:{}};return e[s].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(s,i,function(t){return e[t]}.bind(null,i));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);const s={play:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n          viewBox="0 0 163.861 163.861">\n        <path d="M34.857,3.613C20.084-4.861,8.107,2.081,8.107,19.106v125.637c0,17.042,11.977,23.975,26.75,15.509L144.67,97.275\n            c14.778-8.477,14.778-22.211,0-30.686L34.857,3.613z"/>\n        </svg>',pause:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n         viewBox="0 0 277.338 277.338">\n        <path d="M14.22,45.665v186.013c0,25.223,16.711,45.66,37.327,45.66c20.618,0,37.339-20.438,37.339-45.66V45.665\n            c0-25.211-16.721-45.657-37.339-45.657C30.931,0,14.22,20.454,14.22,45.665z"/>\n        <path d="M225.78,0c-20.614,0-37.325,20.446-37.325,45.657V231.67c0,25.223,16.711,45.652,37.325,45.652s37.338-20.43,37.338-45.652\n            V45.665C263.109,20.454,246.394,0,225.78,0z"/>\n        </svg>',volume:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n         viewBox="0 0 291.063 291.064">\n        <path d="M26.512,204.255h18.292l106.48,67.761c12.354,7.855,22.369,2.361,22.369-12.282v-69.397\n            c16.933-8.854,28.501-26.559,28.501-46.983c0-20.425-11.568-38.129-28.501-46.986V31.645c0-14.639-10.18-20.401-22.731-12.873\n            L44.804,82.443H26.512C11.866,82.443,0,94.311,0,108.955v68.789C0,192.387,11.866,204.255,26.512,204.255z"/>\n        <path d="M219.791,152.899c-0.818,11.185-4.039,21.758-9.569,31.426c-3.635,6.354-1.43,14.452,4.919,18.087\n            c2.082,1.187,4.34,1.751,6.576,1.751c4.599,0,9.062-2.393,11.517-6.675c7.508-13.138,11.889-27.491,12.986-42.663\n            c1.714-23.397-4.836-46.781-18.455-65.845c-4.256-5.96-12.536-7.332-18.491-3.081c-5.959,4.259-7.337,12.531-3.08,18.491\n            C216.218,118.425,221.055,135.653,219.791,152.899z"/>\n        <path d="M290.7,158c3.34-45.736-16.508-89.592-53.097-117.318c-5.841-4.433-14.146-3.27-18.568,2.556\n            c-4.428,5.838-3.283,14.151,2.558,18.568c29.401,22.281,45.355,57.521,42.668,94.252c-2.02,27.636-14.375,53.159-34.787,71.867\n            c-5.396,4.95-5.758,13.339-0.808,18.729c2.609,2.854,6.188,4.298,9.771,4.298c3.194,0,6.41-1.154,8.953-3.484\n            C272.805,224.175,288.184,192.408,290.7,158z"/>\n        </svg>',mute:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n             viewBox="0 0 306.257 306.257">\n            <path d="M19.747,121.968v70.068c0,21.499,17.43,38.924,38.924,38.924h40.703l112.088,73.612\n                c11.351,6.271,26.808-5.883,34.372-21.256L47.261,84.75C31.333,89.628,19.747,104.438,19.747,121.968z"/>\n            <path d="M250.386,41.816c0-21.5-19.464-51.253-38.924-38.924L108.71,76.499l141.676,141.677V41.816z"/>\n            <path d="M55.463,83.202l193.146,193.145l18.88,18.874c3.459,3.469,8.005,5.204,12.547,5.204c4.541,0,9.087-1.735,12.552-5.204\n                c6.934-6.929,6.934-18.17,0-25.104l-42.197-42.197L103.037,80.566L38.771,16.314c-3.461-3.469-8.005-5.204-12.549-5.204\n                c-4.544,0-9.085,1.735-12.552,5.204c-6.937,6.928-6.937,18.17,0,25.101L55.463,83.202z"/>\n        </svg>',download:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n        viewBox="0 0 512 512">\n           <path d="M382.56,233.376C379.968,227.648,374.272,224,368,224h-64V16c0-8.832-7.168-16-16-16h-64c-8.832,0-16,7.168-16,16v208h-64\n               c-6.272,0-11.968,3.68-14.56,9.376c-2.624,5.728-1.6,12.416,2.528,17.152l112,128c3.04,3.488,7.424,5.472,12.032,5.472\n               c4.608,0,8.992-2.016,12.032-5.472l112-128C384.192,245.824,385.152,239.104,382.56,233.376z"/>\n           <path d="M432,352v96H80v-96H16v128c0,17.696,14.336,32,32,32h416c17.696,0,32-14.304,32-32V352H432z"/>\n        </svg>',upload:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n        viewBox="0 0 512 512">\n            <path d="M380.032,133.472l-112-128C264.992,2.016,260.608,0,256,0c-4.608,0-8.992,2.016-12.032,5.472l-112,128\n                c-4.128,4.736-5.152,11.424-2.528,17.152C132.032,156.32,137.728,160,144,160h64v208c0,8.832,7.168,16,16,16h64\n                c8.832,0,16-7.168,16-16V160h64c6.272,0,11.968-3.648,14.56-9.376C385.152,144.896,384.192,138.176,380.032,133.472z"/>\n           <path d="M432,352v96H80v-96H16v128c0,17.696,14.336,32,32,32h416c17.696,0,32-14.304,32-32V352H432z"/>\n        </svg>'};function i(){new o(event.target.id).init()}class o{constructor(e){this.nodes={trackName:document.createElement("div"),playBtn:document.createElement("div"),currentTime:document.createElement("div"),progressbar:document.createElement("div"),time_duration:document.createElement("div"),speed:document.createElement("select"),volume:document.createElement("div"),download:document.createElement("a"),upload:document.createElement("div")},this.subnodes={progressbar__current:document.createElement("div"),volume__label:document.createElement("label"),volume__input_wrap:document.createElement("div"),volume__input:document.createElement("input")},this.entryEl=document.querySelector(`#${e}`),this.audio=new Audio(this.entryEl.getAttribute("src")),this.trackName=this.entryEl.innerText,this.duration=0,this.currentTime=0,this.playing=!1,this.timer=null,this.speed=1,this.volume=1}play(){this.playing?(this.audio.pause(),this.playing=!this.playing,this.nodes.playBtn.innerHTML=s.play,clearInterval(this.timer)):(this.audio.play(),this.playing=!this.playing,this.nodes.playBtn.innerHTML=s.pause)}setCurrentTime(){this.currentTime=this.audio.currentTime,this.nodes.currentTime.textContent=r(this.currentTime)}setProgressbar(){this.subnodes.progressbar__current.style.width=`${this.currentTime/this.duration*100}%`}setCurrentTimeByClick(e){const t=e.target.getBoundingClientRect().x,n=(e.clientX-t)/this.nodes.progressbar.offsetWidth;this.audio.currentTime=this.duration*n,this.setCurrentTime(),this.setProgressbar()}setSpeed(){this.audio.playbackRate=this.nodes.speed.value}setVolume(){this.audio.volume=this.subnodes.volume__input.value/100}uploadAudio(){alert("Возможно..")}init(){this.entryEl.className="player",this.entryEl.setAttribute("onClick",""),this.entryEl.innerHTML="",this.entryEl.append(this.audio),this.audio.addEventListener("loadedmetadata",()=>{this.duration=this.audio.duration,this.nodes.time_duration.textContent=r(this.duration)}),this.audio.addEventListener("play",()=>this.timer=setInterval(()=>{this.setCurrentTime(),this.setProgressbar()},500)),Object.assign(this.nodes.trackName,{className:"track_name",textContent:this.trackName}),Object.assign(this.nodes.playBtn,{className:"button_play",innerHTML:s.play,onclick:this.play.bind(this)}),Object.assign(this.nodes.currentTime,{className:"time_current",textContent:"0:00"}),Object.assign(this.nodes.progressbar,{className:"progressbar",onclick:this.setCurrentTimeByClick.bind(this)}),Object.assign(this.subnodes.progressbar__current,{className:"progressbar__current"}),Object.assign(this.nodes.time_duration,{className:"time_duration",textContent:this.timeDuration}),Object.assign(this.nodes.speed,{className:"speed",onchange:this.setSpeed.bind(this),innerHTML:'<option value="0.5">x0.5</option>\n      <option value="1" selected>x1</option>\n      <option value="1.25">x1.25</option>\n      <option value="1,5">x1.5</option>\n      <option value="1.75">x1.75</option>\n      <option value="2">x2</option>\n      <option value="2.5">x2.5</option>'}),Object.assign(this.nodes.volume,{className:"volume"}),Object.assign(this.subnodes.volume__label,{className:"volume__label",innerHTML:s.volume,for:"volume__input"}),Object.assign(this.subnodes.volume__input,{className:"volume__input",type:"range",id:"volume__input",value:"50",min:"0",max:"100",oninput:this.setVolume.bind(this)}),Object.assign(this.subnodes.volume__input_wrap,{className:"volume__input_wrap"}),Object.assign(this.nodes.download,{className:"download",innerHTML:s.download,href:this.audio.src,download:this.trackName}),Object.assign(this.nodes.upload,{className:"upload",innerHTML:s.upload,onclick:this.uploadAudio.bind(this)}),this.nodes.progressbar.append(this.subnodes.progressbar__current),this.nodes.volume.append(this.subnodes.volume__label),this.nodes.volume.append(this.subnodes.volume__input_wrap),this.subnodes.volume__input_wrap.append(this.subnodes.volume__input);for(let e in this.nodes)this.entryEl.append(this.nodes[e])}}function r(e){return[Math.floor(e/60),Math.floor(e%60).toString().padStart(2,"0")].join(":")}document.querySelectorAll(".audio").forEach(e=>{e.onclick=i})}]);